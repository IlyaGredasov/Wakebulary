MainScreen:
    name: "MainScreen"
    FloatLayout:
        size_hint: (1, 1)  # Позволяет занимать всю доступную высоту и ширину

        MDRoundFlatButton:
            id: start_learning_loop
            text: "Начать обучение desktop"
            size_hint: (0.4, 0.08)
            size_hint_max: (300, 50)
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.preparation_to_learn()

        MDRoundFlatButton:
            text: "Настройки"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.45}  # Изменено на 0.45
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.change_screen()

        MDRoundFlatButton:
            text: "Выход"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.3}  # Изменено на 0.3
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: app.stop()

<DesktopView>
    name: "DesktopView"
    FloatLayout:
        size_hint: (1, 1)  # Позволяет занимать всю доступную высоту и ширину

        MDCard:
            size_hint: None, None
            size: 0.3, 0.5
            pos_hint: {"center_x": 0.2, "center_y": 0.3}
            padding: 25
            spacing: 25
            orientation: 'vertical'

            Label:
                text: "Новое слово"
                size_hint_y: None
                pos_hint: {'center_x':0.5, 'center_y': 0.5}
                height: dp(30)

            MDTextField:
                id: word_input
                hint_text: "word"
                icon_right: "translate-off"
                size_hint_x: None
                width: dp(200)
                font_size: 18
                pos_hint:  {"center_x": 0.5}
                field_filter: 'str'
                on_text_validate: root.ids.translation_input.focus = True

            MDTextField:
                id: translation_input
                hint_text: "translation"
                icon_right: "translate"
                size_hint_x: None
                width: dp(200)
                pos_hint:  {"center_x": 0.5}
                field_filter: 'str'
                on_text_validate: root.add_to_base()

            MDRoundFlatButton:
                id: add_to_base_button
                text: 'Add to base'
                font_size: 12
                pos_hint: {"center_x": 0.5}
                on_press: root.add_to_base()

            MDRoundFlatButton:
                text: 'Clear'
                font_size: 12
                _min_width: root.ids.add_to_base_button.width
                pos_hint: {"center_x": 0.5}
                on_press: app.clear()
            
            Widget:
                size_hint_y: None
                height: 10

        MDRoundFlatButton:
            id: start_learning_loop
            text: "Начать обучение desktop"
            size_hint: (0.4, 0.08)
            size_hint_max: (300, 50)
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.preparation_to_learn()

        MDRoundFlatButton:
            text: "Настройки"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.45}  # Изменено на 0.45
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.change_screen()

        MDRoundFlatButton:
            text: "Выход"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.3}  # Изменено на 0.3
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: app.stop()

        MDCard:
            size_hint: None, None
            size: 0.3, 0.5
            pos_hint: {"center_x": 0.8, "center_y": 0.3}
            padding: 25
            spacing: 25
            orientation: 'vertical'

            Label:
                text: "Удалить слово"
                size_hint_y: None
                pos_hint: {'center_x':0.5, 'center_y': 0.5}
                height: dp(30)

            MDTextField:
                id: word_erase_input
                hint_text: "word"
                icon_right: "translate-off"
                size_hint_x: None
                width: dp(200)
                font_size: 18
                pos_hint:  {"center_x": 0.5}
                field_filter: 'str'
                on_text_validate: root.ids.translation_erase_input.focus = True

            MDTextField:
                id: translation_erase_input
                hint_text: "translation"
                icon_right: "translate"
                size_hint_x: None
                width: dp(200)
                pos_hint:  {"center_x": 0.5}
                field_filter: 'str'
                on_text_validate: root.delete_from_base()

            MDRoundFlatButton:
                id: delete_from_base_button
                text: 'Delete from base'
                font_size: 12
                pos_hint: {"center_x": 0.5}
                on_press: root.delete_from_base()

            MDRoundFlatButton:
                text: 'Clear'
                font_size: 12
                _min_width: root.ids.delete_from_base_button.width
                pos_hint: {"center_x": 0.5}
                on_press: app.clear()
            
            Widget:
                size_hint_y: None
                height: 10

<MobileView>
    name: "MobileView"
    FloatLayout:
        size_hint: (1, 1)  # Позволяет занимать всю доступную высоту и ширину

        MDRoundFlatButton:
            id: start_learning_loop
            text: "Начать обучение mobile"
            size_hint: (0.4, 0.08)
            size_hint_max: (300, 50)
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.preparation_to_learn()

        MDRoundFlatButton:
            text: "Настройки"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.45}  # Изменено на 0.45
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.change_screen()

        MDRoundFlatButton:
            text: "Выход"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.3}  # Изменено на 0.3
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: app.stop()

<TabletView>
    name: "TabletView"
    FloatLayout:
        size_hint: (1, 1)  # Позволяет занимать всю доступную высоту и ширину

        MDRoundFlatButton:
            id: start_learning_loop
            text: "Начать обучение tablet"
            size_hint: (0.4, 0.08)
            size_hint_max: (300, 50)
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.preparation_to_learn()

        MDRoundFlatButton:
            text: "Настройки"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.45}  # Изменено на 0.45
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: root.change_screen()

        MDRoundFlatButton:
            text: "Выход"
            size_hint: (0.4, 0.08)
            height: dp(48)
            size_hint_max: (300, 50)
            _min_width: root.ids.start_learning_loop.width
            pos_hint: {"center_x": 0.5, "center_y": 0.3}  # Изменено на 0.3
            md_bg_color: 50/255, 0, 69/255, 1
            text_color: 'white'
            on_press: app.stop()

<Preparation>:
    GridLayout:
        canvas.before:
            Color:
                rgba: (40/255, 40/255, 40/255, 1)
            Rectangle: 
                pos: self.pos
                size: self.size
        id: dialog_layout
        # _min_width: root.width
        cols: 1
        padding: dp(10)
        spacing: dp(10)  # Добавлено для отступов между элементами

        MDTextField:
            id: sample_size_input
            input_filter: 'int'
            hint_text: 'Введите количество слов для изучения'
            hint_text_width: 20
            size_hint_max_x: root.ids.dialog_layout.width
            # font_size: self.width / 20
            mode: 'rectangle'
            size_hint: (0.8, None)
            height: dp(50)
            multiline: False  # Изменено на False, чтобы избежать увеличения высоты

        GridLayout:
            id: choose_language
            cols: 2
            padding: dp(10)
            spacing: dp(50)  # Добавлено для отступов между элементами

            MDCheckbox:
                id: eng_checkbox
                group: 'lang'
                spacing: dp(50)
                color_active: '5B35A0'
                size_hint: (1, None)
                size: (dp(48), dp(48))
                halign: 'right'
                pos_hint: {'center_x': 0.8}
                _no_ripple_effect: True

            MDLabel:
                text: "English"
                halign: "left"
                font_style: 'H6'
                size_hint_y: None
                size_hint: (1, None)
                height: self.texture_size[1] + dp(25) # Установка высоты в зависимости от текста
            MDCheckbox:
                id: rus_checkbox
                group: 'lang'
                spacing: dp(50)
                color_active: '5B35A0'
                size_hint: (1, None)
                size: (dp(48), dp(48))
                halign: 'right'
                pos_hint: {'center_x': 0.8}
                _no_ripple_effect: True

            MDLabel:
                text: "Russian"
                halign: "left"
                font_style: 'H6'
                size_hint_y: None
                size_hint: (1, None)
                height: self.texture_size[1] + dp(25) # Установка высоты в зависимости от текста

        GridLayout:
            cols: 2
            size_hint_y: None
            height: dp(50)

            MDFlatButton:
                text: "Cancel"
                id: cancel_button
                size_hint_x: 0.5

            MDRectangleFlatButton:
                text: "OK"
                id: confirm_button
                size_hint_x: 0.5
                disabled: True